# Define a versão da API do Kustomize usada
apiVersion: kustomize.config.k8s.io/v1beta1

# Define o tipo deste arquivo como Kustomization
kind: Kustomization

# Inclui os recursos Kubernetes (deployment e service)
resources:
- deployment.yaml
- service.yaml

# Substitui as imagens no deployment.yaml por uma nova versão da imagem
  # Atualiza a imagem chamada "frontend" para usar a imagem do Docker Hub com novo tag

  # Garante também que "gabriela.schubert/frontend" use a tag mais recente
images:
- name: frontend
  newName: gabrielaschubert/frontend
  newTag: febb90f88e9f6df5b2c70a7ce6a88bde3fb6a431
- name: gabrielaschubert/frontend
  newTag: latest
